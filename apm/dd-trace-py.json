{
  "url": "https://api.github.com/repos/DataDog/dd-trace-py/releases/220575608",
  "assets_url": "https://api.github.com/repos/DataDog/dd-trace-py/releases/220575608/assets",
  "upload_url": "https://uploads.github.com/repos/DataDog/dd-trace-py/releases/220575608/assets{?name,label}",
  "html_url": "https://github.com/DataDog/dd-trace-py/releases/tag/v3.8.0",
  "id": 220575608,
  "author": {
    "login": "emmettbutler",
    "id": 723615,
    "node_id": "MDQ6VXNlcjcyMzYxNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/723615?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emmettbutler",
    "html_url": "https://github.com/emmettbutler",
    "followers_url": "https://api.github.com/users/emmettbutler/followers",
    "following_url": "https://api.github.com/users/emmettbutler/following{/other_user}",
    "gists_url": "https://api.github.com/users/emmettbutler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emmettbutler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emmettbutler/subscriptions",
    "organizations_url": "https://api.github.com/users/emmettbutler/orgs",
    "repos_url": "https://api.github.com/users/emmettbutler/repos",
    "events_url": "https://api.github.com/users/emmettbutler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emmettbutler/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "node_id": "RE_kwDOA6uE5s4NJbd4",
  "tag_name": "v3.8.0",
  "target_commitish": "c17a3bdb5ceabd9206e427f9d6562adcb2a7f0f5",
  "name": "3.8.0",
  "draft": false,
  "prerelease": false,
  "created_at": "2025-05-22T09:58:29Z",
  "published_at": "2025-05-23T08:55:47Z",
  "assets": [

  ],
  "tarball_url": "https://api.github.com/repos/DataDog/dd-trace-py/tarball/v3.8.0",
  "zipball_url": "https://api.github.com/repos/DataDog/dd-trace-py/zipball/v3.8.0",
  "body": "### New Features\r\n\r\n- LLM Observability: add processor capability to process span inputs and outputs. See usage documentation [here](https://docs.datadoghq.com/llm_observability/setup/sdk/python/#span-processing).\r\n- CI Visibility: This introduces the ability to gzip the payload when using the evp proxy setup, incurring in less network bandwith consumption.\r\n- Error Tracking: Introduces automatic reporting of handled exceptions. Enabling the feature will report handled exceptions to Error Tracking from the user code, the third party packages code, some specified modules or everything based on configuration. This feature can be controlled using two environment variables:\r\n  - `DD_ERROR_TRACKING_HANDLED_ERRORS=allthird_party`\r\n  - `DD_ERROR_TRACKING_HANDLED_ERRORS_INCLUDE=module1, module2, module3.submodule`\r\n- Code Security: IAST support for langchain v0.1.0 and above.\r\n- openai: This introduces tracing support for the OpenAI Responses endpoint.\r\n\r\n\r\n### Bug Fixes\r\n\r\n- tracing\r\n  - Fixes an issue where truncation of span attributes longer than 25000 characters would not consistently count the size of UTF-8 multibyte characters, leading to a `unicode string is too large` error.\r\n  - Fixes a bug in distributed tracing where pickling `ddtrace.trace.Context` fails in coroutines. This regression was introduced in v3.7.0.\r\n\r\n- CI Visibility\r\n  - This fix resolves an issue where the `DD_CIVISIBILITY_ITR_ENABLED` was not honored properly.\r\n  - This fix resolves an issue where pytest-xdist would not exit with the proper status code if ATR was enabled.\r\n  - This fix resolves an issue where ddtrace pytest plugin used with xdist would report test suites as failing even when all tests pass.\r\n\r\n- profiling\r\n  - fixed an issue in the `SynchronizedSamplePool` where pool could be null when calling into `ddog_ArrayQueue_` functions, leading to segfaults in the uWSGI shutdown\r\n  - improve performance of the memory profiler for large heaps. The memory profiler previously did a linear search of tracked allocations for every free, which scaled very poorly with large heaps. Switch to a fast hash map.\r\n\r\n- Code Security\r\n  - IAST\r\n    - Avoid excessive filtering of stacktrace locations when finding vulnerabilities. After this change, vulnerabilities that were previously discarded will now be reported. In particular, if they were found within code in site-packages or outside of the working directory.\r\n\r\n- LLM Observability\r\n  - Resolves an issue where spans and evaluation metrics were not being sent via Unix sockets.\r\n\r\n- dynamic instrumentation\r\n  - prevent an exception when trying to remove a probe that did not resolve to a valid source code location.\r\n\r\n- kafka\r\n  - This fix resolves an issue where message headers were sent to Kafka brokers that do not support them. Message headers are turned off when the Kafka server responds with `UNKNOWN_SERVER_ERROR (-1)`.\r\n\r\n- code origin for spans\r\n  - fixes a performance issue with exit spans.\r\n\r\n"
}
